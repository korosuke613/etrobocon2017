<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ETrobocon2017: str/googletest/googletest/docs/V1_6_XcodeGuide.md ソースファイル</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ETrobocon2017
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','検索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d0/d83/_v1__6___xcode_guide_8md.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">str/googletest/googletest/docs/V1_6_XcodeGuide.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d0/d83/_v1__6___xcode_guide_8md.html">[詳解]</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This guide will explain how to use the Google Testing Framework in your Xcode projects on Mac OS X. This tutorial begins by quickly explaining what to do for experienced users. After the quick start, the guide goes provides additional explanation about each step.</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;# Quick Start #</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;Here is the quick guide for using Google Test in your Xcode project.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  1. Download the source from the [website](http://code.google.com/p/googletest) using this command: `svn checkout http://googletest.googlecode.com/svn/trunk/ googletest-read-only`</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  1. Open up the `gtest.xcodeproj` in the `googletest-read-only/xcode/` directory and build the gtest.framework.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  1. Create a new &quot;Shell Tool&quot; target in your Xcode project called something like &quot;UnitTests&quot;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  1. Add the gtest.framework to your project and add it to the &quot;Link Binary with Libraries&quot; build phase of &quot;UnitTests&quot;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  1. Add your unit test source code to the &quot;Compile Sources&quot; build phase of &quot;UnitTests&quot;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  1. Edit the &quot;UnitTests&quot; executable and add an environment variable named &quot;DYLD\_FRAMEWORK\_PATH&quot; with a value equal to the path to the framework containing the gtest.framework relative to the compiled executable.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  1. Build and Go</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;The following sections further explain each of the steps listed above in depth, describing in more detail how to complete it including some variations.</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;# Get the Source #</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;Currently, the gtest.framework discussed here isn&#39;t available in a tagged release of Google Test, it is only available in the trunk. As explained at the Google Test [site](http://code.google.com/p/googletest/source/checkout&quot;&gt;svn), you can get the code from anonymous SVN with this command:</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;```</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;svn checkout http://googletest.googlecode.com/svn/trunk/ googletest-read-only</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;```</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;Alternatively, if you are working with Subversion in your own code base, you can add Google Test as an external dependency to your own Subversion repository. By following this approach, everyone that checks out your svn repository will also receive a copy of Google Test (a specific version, if you wish) without having to check it out explicitly. This makes the set up of your project simpler and reduces the copied code in the repository.</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;To use `svn:externals`, decide where you would like to have the external source reside. You might choose to put the external source inside the trunk, because you want it to be part of the branch when you make a release. However, keeping it outside the trunk in a version-tagged directory called something like `third-party/googletest/1.0.1`, is another option. Once the location is established, use `svn propedit svn:externals _directory_` to set the svn:externals property on a directory in your repository. This directory won&#39;t contain the code, but be its versioned parent directory.</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;The command `svn propedit` will bring up your Subversion editor, making editing the long, (potentially multi-line) property simpler. This same method can be used to check out a tagged branch, by using the appropriate URL (e.g. `http://googletest.googlecode.com/svn/tags/release-1.0.1`). Additionally, the svn:externals property allows the specification of a particular revision of the trunk with the `-r_##_` option (e.g. `externals/src/googletest -r60 http://googletest.googlecode.com/svn/trunk`).</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;Here is an example of using the svn:externals properties on a trunk (read via `svn propget`) of a project. This value checks out a copy of Google Test into the `trunk/externals/src/googletest/` directory.</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;```</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;[Computer:svn] user$ svn propget svn:externals trunk</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;externals/src/googletest http://googletest.googlecode.com/svn/trunk</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;```</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;# Add the Framework to Your Project #</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;The next step is to build and add the gtest.framework to your own project. This guide describes two common ways below.</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  * **Option 1** --- The simplest way to add Google Test to your own project, is to open gtest.xcodeproj (found in the xcode/ directory of the Google Test trunk) and build the framework manually. Then, add the built framework into your project using the &quot;Add-&gt;Existing Framework...&quot; from the context menu or &quot;Project-&gt;Add...&quot; from the main menu. The gtest.framework is relocatable and contains the headers and object code that you&#39;ll need to make tests. This method requires rebuilding every time you upgrade Google Test in your project.</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  * **Option 2** --- If you are going to be living off the trunk of Google Test, incorporating its latest features into your unit tests (or are a Google Test developer yourself). You&#39;ll want to rebuild the framework every time the source updates. to do this, you&#39;ll need to add the gtest.xcodeproj file, not the framework itself, to your own Xcode project. Then, from the build products that are revealed by the project&#39;s disclosure triangle, you can find the gtest.framework, which can be added to your targets (discussed below).</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;# Make a Test Target #</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;To start writing tests, make a new &quot;Shell Tool&quot; target. This target template is available under BSD, Cocoa, or Carbon. Add your unit test source code to the &quot;Compile Sources&quot; build phase of the target.</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;Next, you&#39;ll want to add gtest.framework in two different ways, depending upon which option you chose above.</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  * **Option 1** --- During compilation, Xcode will need to know that you are linking against the gtest.framework. Add the gtest.framework to the &quot;Link Binary with Libraries&quot; build phase of your test target. This will include the Google Test headers in your header search path, and will tell the linker where to find the library.</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  * **Option 2** --- If your working out of the trunk, you&#39;ll also want to add gtest.framework to your &quot;Link Binary with Libraries&quot; build phase of your test target. In addition, you&#39;ll  want to add the gtest.framework as a dependency to your unit test target. This way, Xcode will make sure that gtest.framework is up to date, every time your build your target. Finally, if you don&#39;t share build directories with Google Test, you&#39;ll have to copy the gtest.framework into your own build products directory using a &quot;Run Script&quot; build phase.</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;# Set Up the Executable Run Environment #</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;Since the unit test executable is a shell tool, it doesn&#39;t have a bundle with a `Contents/Frameworks` directory, in which to place gtest.framework. Instead, the dynamic linker must be told at runtime to search for the framework in another location. This can be accomplished by setting the &quot;DYLD\_FRAMEWORK\_PATH&quot; environment variable in the &quot;Edit Active Executable ...&quot; Arguments tab, under &quot;Variables to be set in the environment:&quot;. The path for this value is the path (relative or absolute) of the directory containing the gtest.framework.</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;If you haven&#39;t set up the DYLD\_FRAMEWORK\_PATH, correctly, you might get a message like this:</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;```</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;[Session started at 2008-08-15 06:23:57 -0600.]</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  dyld: Library not loaded: @loader_path/../Frameworks/gtest.framework/Versions/A/gtest</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    Referenced from: /Users/username/Documents/Sandbox/gtestSample/build/Debug/WidgetFrameworkTest</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    Reason: image not found</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;```</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;To correct this problem, got to the directory containing the executable named in &quot;Referenced from:&quot; value in the error message above. Then, with the terminal in this location, find the relative path to the directory containing the gtest.framework. That is the value you&#39;ll need to set as the DYLD\_FRAMEWORK\_PATH.</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;# Build and Go #</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;Now, when you click &quot;Build and Go&quot;, the test will be executed. Dumping out something like this:</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;```</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;[Session started at 2008-08-06 06:36:13 -0600.]</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;[==========] Running 2 tests from 1 test case.</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;[----------] Global test environment set-up.</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;[----------] 2 tests from WidgetInitializerTest</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;[ RUN      ] WidgetInitializerTest.TestConstructor</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;[       OK ] WidgetInitializerTest.TestConstructor</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;[ RUN      ] WidgetInitializerTest.TestConversion</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;[       OK ] WidgetInitializerTest.TestConversion</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;[----------] Global test environment tear-down</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;[==========] 2 tests from 1 test case ran.</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;[  PASSED  ] 2 tests.</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;The Debugger has exited with status 0.  </div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;```</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;# Summary #</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;Unit testing is a valuable way to ensure your data model stays valid even during rapid development or refactoring. The Google Testing Framework is a great unit testing framework for C and C++ which integrates well with an Xcode development environment.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d83/_v1__6___xcode_guide_8md.html">V1_6_XcodeGuide.md</a></li>
    <li class="footer">構築:
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
